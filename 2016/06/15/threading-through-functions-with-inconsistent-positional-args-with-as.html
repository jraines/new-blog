<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <link href="../../../stylesheets/syntax.css" rel="stylesheet" type="text/css" />
    <link href="../../../stylesheets/main.css" rel="stylesheet" type="text/css" />
    <meta property="og:image" content="" />
    <meta property="og:title" content="Threading through functions with inconsistent positional args with as->" />
    <meta property="og:url" content="http://jeremyraines.com/2016/06/15/threading-through-functions-with-inconsistent-positional-args-with-as.html" />
    <meta property="og:description" content="" />

    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <title>Jeremy Raines - Threading through functions with inconsistent positional args with as-></title>

    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  </head>
  <body>
    <div id="main" role="main">
      <h2>as-&gt;</h2>

<p>Threading macro which gives an alias to the thing you&rsquo;re passing through a series of functions.</p>

<p>Copied straight from <a href="https://clojuredocs.org/clojure.core/as-%3E">the docs</a></p>
<pre><code class="highlight clojure"><span class="c1">;; when you want to use arbitrary positioning of your argument in a thread macro
</span><span class="p">(</span><span class="nf">as-&gt;</span><span class="w"> </span><span class="p">{</span><span class="no">:a</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="no">:b</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span><span class="w"> </span><span class="n">m</span><span class="w">
  </span><span class="p">(</span><span class="nf">update</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="no">:a</span><span class="w"> </span><span class="nb">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="nb">reduce</span><span class="w"> </span><span class="p">(</span><span class="k">fn</span><span class="w"> </span><span class="p">[</span><span class="n">s</span><span class="w"> </span><span class="p">[</span><span class="n">_</span><span class="w"> </span><span class="n">v</span><span class="p">]]</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="n">v</span><span class="p">))</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">m</span><span class="p">))</span><span class="w">

</span><span class="c1">;; when you'd like an if statement in your thread
</span><span class="p">(</span><span class="nf">as-&gt;</span><span class="w"> </span><span class="p">{</span><span class="no">:a</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="no">:b</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span><span class="w"> </span><span class="n">m</span><span class="w">
  </span><span class="p">(</span><span class="nf">update</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="no">:a</span><span class="w"> </span><span class="nb">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w">
  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="n">update-b</span><span class="w">
    </span><span class="p">(</span><span class="nf">update</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="no">:b</span><span class="w"> </span><span class="nb">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w">
    </span><span class="n">m</span><span class="p">))</span><span class="w">
</span></code></pre>

    </div>
  </body>
</html>
